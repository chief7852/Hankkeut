<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE sqlMap
	PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
	"http://ibatis.apache.org/dtd/sql-map-2.dtd">
	
<sqlMap namespace="room">
	<insert id="insertRoom" parameterClass="roomVO">
		insert into room values(
			room_seq.nextVal,
			#room_pass#,
			#room_round#,
			#room_theme#,
			#room_name#,
			#nickname#,
			#allow_no#,
			#room_host#,
			#room_time#,
			1
		)	

	</insert>
	
	<select id="selectAllRoom" parameterClass="roomVO" resultClass="roomVO">
		select * from room
	</select>
	
	<select id="isRoomPass" parameterClass="int" resultClass="String">
		select room_pass from room where room_no = #room_no#
	</select>
	
	<!-- 21.03.03 CHS -->
	<select id="isHostRoom" parameterClass="String" resultClass="roomVO">
		select * from room where room_host = #room_host#
	</select>
	
	<select id="roomEnter" parameterClass="int" resultClass="roomVO">
		select * from room where room_no = #room_no#
	</select>
	
	<delete id="deleteRoom" parameterClass="String">
		delete from room where nickname = #nickname#
	</delete>
	
	<select id="selectRoom" parameterClass="String" resultClass="int">
		select room_no from room where nickname = #nickname#
	</select>
	
	<update id="updateCnt" parameterClass="roomVO">
		update room set room_cnt = #room_cnt# where room_no = #room_no#
	</update>
	
</sqlMap>